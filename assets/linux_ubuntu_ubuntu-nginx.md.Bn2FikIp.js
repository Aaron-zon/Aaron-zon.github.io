import{ax as i,A as a,aQ as n,z as t}from"./chunks/framework.BWRXlwpK.js";const g=JSON.parse('{"title":"Ubuntu 安装 nginx","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"linux/ubuntu/ubuntu-nginx.md","filePath":"linux/ubuntu/ubuntu-nginx.md"}'),l={name:"linux/ubuntu/ubuntu-nginx.md"};function e(h,s,p,d,k,o){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="ubuntu-安装-nginx" tabindex="-1">Ubuntu 安装 nginx <a class="header-anchor" href="#ubuntu-安装-nginx" aria-label="Permalink to &quot;Ubuntu 安装 nginx&quot;">​</a></h1><h2 id="下载安装" tabindex="-1">下载安装 <a class="header-anchor" href="#下载安装" aria-label="Permalink to &quot;下载安装&quot;">​</a></h2><p>1.更新 apt</p><p>确保能下载到最新的版本</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre></div><p>2.安装 nginx</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><p>3.验证安装成功/查看版本</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre></div><h2 id="文件路径" tabindex="-1">文件路径 <a class="header-anchor" href="#文件路径" aria-label="Permalink to &quot;文件路径&quot;">​</a></h2><table tabindex="0"><thead><tr><th>类型</th><th>路径</th><th>说明</th></tr></thead><tbody><tr><td>可执行文件</td><td><code>/usr/sbin/nginx</code></td><td>启动/停止 nginx 命令</td></tr><tr><td>配置文件</td><td><code>/etc/nginx/</code></td><td>主要配置文件 <code>nginx.conf</code> 以及 <code>sites-available/</code>、<code>sites-enabled/</code></td></tr><tr><td>默认网页</td><td><code>/var/www/html/</code></td><td>默认主页文件 <code>index.html</code></td></tr><tr><td>日志</td><td><code>/var/log/nginx/</code></td><td><code>access.log</code> 和 <code>error.log</code></td></tr></tbody></table><p><strong>主要文件</strong></p><ul><li>配置文件：<code>/etc/nginx/nginx.conf</code></li><li>日志文件： <ul><li>访问日志：<code>/var/log/nginx/access.log</code></li><li>错误日志：<code>/var/log/nginx/error.log</code></li></ul></li></ul><h2 id="基础命令" tabindex="-1">基础命令 <a class="header-anchor" href="#基础命令" aria-label="Permalink to &quot;基础命令&quot;">​</a></h2><h3 id="启动-重启-停止-nginx" tabindex="-1">启动/重启/停止 nginx <a class="header-anchor" href="#启动-重启-停止-nginx" aria-label="Permalink to &quot;启动/重启/停止 nginx&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重启</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 停止</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre></div><h3 id="查看-nginx-状态" tabindex="-1">查看 nginx 状态 <a class="header-anchor" href="#查看-nginx-状态" aria-label="Permalink to &quot;查看 nginx 状态&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre></div><h3 id="设置开机自启动" tabindex="-1">设置开机自启动 <a class="header-anchor" href="#设置开机自启动" aria-label="Permalink to &quot;设置开机自启动&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre></div><h3 id="防火墙设置-如果开启了-ufw-ubuntu-自带的防火墙工具" tabindex="-1">防火墙设置（如果开启了 ufw: Ubuntu 自带的防火墙工具） <a class="header-anchor" href="#防火墙设置-如果开启了-ufw-ubuntu-自带的防火墙工具" aria-label="Permalink to &quot;防火墙设置（如果开启了 ufw: Ubuntu 自带的防火墙工具）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 允许 HTTP 和 HTTPS 流量</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Nginx Full&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Nginx HTTP&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Nginx HTTPS&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或（指定端口）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 80</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # 相当于 &#39;Nginx HTTP&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 443</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 相当于 &#39;Nginx HTTPS&#39;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看防火墙规则</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ufw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span></span></code></pre></div><ul><li>这样可以让外部访问 Nginx 的 80/443 端口。</li><li>如果状态是 inactive，说明防火墙未启用，端口即使不配置也可以访问。</li></ul><h3 id="测试-nginx" tabindex="-1">测试 Nginx <a class="header-anchor" href="#测试-nginx" aria-label="Permalink to &quot;测试 Nginx&quot;">​</a></h3><ol><li>打开浏览器，访问服务器的 IP 地址或域名。</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://你的服务器IP/</span></span></code></pre></div><ol start="2"><li>如果看到 “Welcome to Nginx!” 页面，就安装成功了。</li></ol><h3 id="查看可执行文件路径" tabindex="-1">查看可执行文件路径 <a class="header-anchor" href="#查看可执行文件路径" aria-label="Permalink to &quot;查看可执行文件路径&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">which</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre></div>`,29)]))}const c=i(l,[["render",e]]);export{g as __pageData,c as default};
