import{ax as i,A as a,aQ as n,z as l}from"./chunks/framework.BWRXlwpK.js";const h="/assets/image.FHlXgxJo.png",o=JSON.parse('{"title":"LangChain 介绍","description":"","frontmatter":{},"headers":[],"relativePath":"langChain/langchain-intro.md","filePath":"langChain/langchain-intro.md"}'),p={name:"langChain/langchain-intro.md"};function t(e,s,k,r,g,E){return l(),a("div",null,s[0]||(s[0]=[n(`<h1 id="langchain-介绍" tabindex="-1">LangChain 介绍 <a class="header-anchor" href="#langchain-介绍" aria-label="Permalink to &quot;LangChain 介绍&quot;">​</a></h1><p>LangChain 是一个基于 LLM 构建智能体和应用程序的框架。</p><p>只需要极短的代码就可以连接到 OpenAI、DeepSeek 等平台的 LLM 模型。</p><p>提供快速连接LLM和构建智能体的方法。</p><h2 id="相关生态" tabindex="-1">相关生态 <a class="header-anchor" href="#相关生态" aria-label="Permalink to &quot;相关生态&quot;">​</a></h2><ul><li>LangChain：提供基础工具，构建基础智能体</li><li>LangGraph：提供图结构支持，构建多智能体</li><li>Deep Agents：构建复杂智能体</li><li>Integration packages：继承访问各种LLM的Provider，提供实现各种功能的Component</li><li>LangSmith：商业组件（付费可选），提供 部署、建工、测试、日志等功能</li></ul><h2 id="构建一个基于llm的应用需要哪些组件" tabindex="-1">构建一个基于LLM的应用需要哪些组件？ <a class="header-anchor" href="#构建一个基于llm的应用需要哪些组件" aria-label="Permalink to &quot;构建一个基于LLM的应用需要哪些组件？&quot;">​</a></h2><ul><li>首先，需要能够访问各种各样的LLM模型。LangChain就提供了访问各种大模型的工具，称为Provider。</li><li>然后，需要能够实现各种围绕大模型的功能组件。LangChain就提供了各种Components，分别实现了各种功能。</li><li>接下来，还有一些构建复杂应用的非必要的功能扩展。比如对请求记录进行统计，这就是LangChain提供的LangSmith。比如需要对复杂工作流进行编排，这就是LangChain提供的LangGraph。</li></ul><h2 id="环境" tabindex="-1">环境 <a class="header-anchor" href="#环境" aria-label="Permalink to &quot;环境&quot;">​</a></h2><ul><li>Python 3.10 或以上版本</li><li>pip 包管理器</li></ul><p><strong>安装常用包</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装 LangChain 核心库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> langchain</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装 多智能体集成</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> langgraph</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装 OpenAI 集成</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> langchain-openai</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装 复杂智能体集成</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deepagents</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 读取环境变量（这个和langchain无关，只是为了方便读取环境变量）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-dotenv</span></span></code></pre></div><h2 id="chain-流水线" tabindex="-1">Chain = 流水线 <a class="header-anchor" href="#chain-流水线" aria-label="Permalink to &quot;Chain = 流水线&quot;">​</a></h2><ul><li>1.收集用户提供的提示词和资料整理成通顺的问题</li><li>2.整理后将问题交给大语言模型，让大语言模型给出答复</li><li>3.大语言模型的回复可能比较多，整理出最核心的信息后交给用户</li></ul><p>这是一个流水线式的智能体，它的架构优点是稳定，但缺点也十分明显，一根筋，不懂变通，十分死板，能处理的问题十分局限。</p><p>比如如果我想知道今天的天气那么这种架构的模型是无法满足我的需求的。</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> os</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> langchain_openai </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ChatOpenAI</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> langchain.agents </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> create_agent</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ChatOpenAI(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepseek-chat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    api_key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">os.getenv(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DEEPSEEK_API_KEY&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    base_url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.deepseek.com/v1&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SYSTEM_PROMPT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">你叫楼兰，是一个健康助手，你可以记录血压、尿酸水平，根据用户性别年龄信息，和标准范围提供健康情况和相关建议（注意不要提供医疗建议，仅提供生活建议）。</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">使用户可以轻松了解自身健康状态，及时调整生活方式，预防高血压等疾病。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">## 限制</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">- 仅回答与健康相关的问题。</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">- 不提供医疗建议或专业咨询。</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">agent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> create_agent(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chat.model,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    system_prompt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SYSTEM_PROMPT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> agent.agent.invoke(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;messages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;你是谁？&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}]},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;messages&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].content)</span></span></code></pre></div><h2 id="graph-指挥官" tabindex="-1">Graph = 指挥官 <a class="header-anchor" href="#graph-指挥官" aria-label="Permalink to &quot;Graph = 指挥官&quot;">​</a></h2><p>核心功能：循环（Loop）+ 记忆（State）</p><p><img src="`+h+'" alt="alt text"></p><p>在LangGraph架构中，大语言模型从流水线工人变味了指挥官，当一个任务进来，LangGraph不会规定死下一步走哪。他只是把当前的情况，也就是 <strong>State（记忆）</strong> 交给大模型，由大模型来决定接下来做什么。</p><p>如果大模型觉得这部分有问题，那么他就会返回一个 <strong>Loop（循环）</strong> 指令，然后LangGraph会根据Loop指令进行修正（这里可能需要各类工具介入），修正后再将 <strong>State（记忆）</strong> 交给大模型处理。</p>',22)]))}const F=i(p,[["render",t]]);export{o as __pageData,F as default};
